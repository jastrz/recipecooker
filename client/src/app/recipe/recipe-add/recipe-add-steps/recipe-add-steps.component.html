<div class="row" style="margin-top: 50px">
  <!-- todo: LISTS can be used for different editor view -->
  <!-- <div class="col-lg-6" *ngIf="recipeSteps && recipeSteps.length > 0">
    <app-recipe-steps-list [recipeSteps]="recipeSteps"></app-recipe-steps-list>
  </div> -->
  <div class="col-lg-6 form-group" style="margin: auto; vertical-align: top">
    <div
      *ngFor="let recipeStepsGroup of recipeStepsGroups; let i = index"
      style="margin-top: 50px"
      [@add]="'added'"
    >
      <button
        (click)="removeRecipeStep(i)"
        class="btn btn-primary"
        style="float: right"
      >
        X
      </button>
      <div [formGroup]="recipeStepsGroup">
        <mat-form-field class="field mt-4">
          <mat-label>Step name</mat-label>
          <input
            id="recipe-step-name"
            matInput
            placeholder="..."
            formControlName="name"
          />
        </mat-form-field>

        <mat-form-field class="description-field mt-4">
          <mat-label>Description</mat-label>
          <textarea
            id="recipe-step-description"
            matInput
            cdkTextareaAutosize
            placeholder="..."
            formControlName="description"
          ></textarea>
        </mat-form-field>

        <div
          *ngIf="!recipeStepsGroup.valid && recipeStepsGroup.touched"
          style="float: right"
        >
          <mat-error>You must fill all fields.</mat-error>
        </div>

        <app-image-loader
          [selectedImages]="recipeStepsGroup.get('files')?.value"
        ></app-image-loader>
      </div>
    </div>
    <button
      (click)="addRecipeStep()"
      class="btn btn-success"
      style="float: right"
    >
      Add
    </button>
    <button type="submit" class="btn btn-primary mt-4" (click)="onSubmit()">
      Continue
    </button>
  </div>
</div>
